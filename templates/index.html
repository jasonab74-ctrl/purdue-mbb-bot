<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Purdue Men's Basketball — Live Feed</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
  <header>
    <h1>Purdue Men’s Basketball — Live Feed</h1>
    <small>Updated: {{ items|length }} sources</small>
  </header>

  <main>
    <!-- Filter -->
    <label for="source">Filter by source:</label>
    <select id="source">
      <!-- Static "always-present" sources -->
      <option value="all">All sources</option>
      <option value="espn">ESPN</option>
      <option value="yahoo">Yahoo Sports</option>
      <option value="reddit">Reddit</option>
      <option value="roster">Official Roster</option>
      <option value="schedule">Official Schedule</option>
      <!-- Dynamic sources from JSON -->
      {% for it in items %}
        {% if it.source %}
          <option value="{{ it.source }}">{{ it.source }}</option>
        {% endif %}
      {% endfor %}
    </select>

    <!-- List -->
    {% if items and items|length %}
      <ul class="items">
        {% for it in items %}
          <li class="item">
            <h3>{{ it.title }}</h3>
            {% if it.date %}<small>{{ it.date }}</small>{% endif %}
            {% if it.link %}
              <p><a href="{{ it.link }}" target="_blank" rel="noopener">Open</a></p>
            {% endif %}
            {% if it.description %}<p>{{ it.description }}</p>{% endif %}
          </li>
        {% endfor %}
      </ul>
    {% else %}
      <p>No results. Try a different filter.</p>
    {% endif %}
  </main>
</body>
</html>
